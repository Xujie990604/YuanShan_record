<!--
 * @Author: x09898 coder_xujie@163.com
 * @Date: 2022-09-06 20:57:39
 * @LastEditors: x09898 coder_xujie@163.com
 * @FilePath: \HTML-CSS-Javascript-\面试题\JavaScript面试题\数组去重.md
 * @Description: 
-->
# 数组去重

## 使用ES6的方法

```js
// 不能去掉重复的空的对象和数组，每个空的对象认为是不同的
[...new Set(arr)]
```

## 使用hasOwnProperty

* hasOwnProperty()方法的返回值是布尔值，判断对象是否包含特定的自身属性(非继承过来的属性)
* 能够完美的实现数组去重功能,因为
* 直接进行数据的比较：因为引用值比较时。比较的是地址所以[] {} 不能被正确去重
* 数据调用 toString 之后进行比较： [] {} 问题解决掉了，但是 "true" 和 true ，123 和 "123" 会被错误的认为相同

```js
function unique(arr) {
  var obj = {};
  return arr.filter(function(item, index, arr){
    // 在进行数组的判断时使用了两个条件： 自身的数据类型 + toString()方法
    return obj.hasOwnProperty(typeof item + item) ? false : (obj[typeof item + item] = true)
  })
}
```

## 使用双循环的方式进行对比，使用splice去掉重复的数据

* 缺点 NAN 无法去重，因为 NAN 永远不等于自身，{}空对象和空数组[]无法去重，因为引用类型比较的是地址

```js
 let arr = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0,'a', 'a',{},{}]
function unique(arr) {
    for(let i = 0; i < arr.length; i++) {
        for(let j = i + 1; j < arr.length; j++) {
            if(arr[i] === arr[j]) {//必须使用===全相等等于号
                arr.splice(j, 1);
                j--;
            }
        }
    }
    return arr;
}
```
