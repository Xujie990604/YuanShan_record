# 响应式布局

* 响应式设计与自适应设计的区别：响应式开发一套界面，通过检测视口分辨率，针对不同客户端在客户端做代码处理，来展现不同的布局和内容；
* 自适应需要开发多套界面，通过检测视口分辨率，来判断当前访问的设备是pc端、平板、手机，从而请求服务层，返回不同的页面。

## 实现的技术

1. 媒体查询
2. 百分比的宽度（block的子元素随父元素调节的流体特性）
3. rem的使用
4. 视口单位的使用
5. flex布局
6. css的calc()方法
7. 图片的响应式

## 像素的概念

### 物理像素(设备像素)

* **显示器！！**上一个像素点的大小

### CSS像素(虚拟像素)

* 相对的单位 PX
* 在不放缩网页的情况下，css像素 == 设备独立像素

### 设备独立像素( 一般情况下 == CSS像素)

* 是**系统！！**中的一个点，这个点代表可以由程序使用的虚拟像素。
* 在 PC 端中一个设备独立像素对应着一个像素点。因此加大 PC 显示器的分辨率时。相当于增多设备独立像素。因此能显示的内容更多了。
* 但是在一些手机中，手机的设备独立像素是固定个数的，因此增加手机的分辨率时。设备独立像素个数不变，每个设备独立像素中的物理像素增多。能显示的内容不变，但是画面更加细腻。

### 设备像素比

* drp = 物理像素/设备独立像素
* drp = 2  用 2*2 个物理像素来表示一个设备独立像素
* 可以通过 windows.devicePixelRatio 参数来获取设备像素比的大小。

## 媒体查询 + 断点

* 媒体查询是一项 CSS3 功能，可使网页根据不同的屏幕尺寸和媒体类型调整其布局。

```css
/* 示例 */
@media media type and (condition: breakpoint) {
  // CSS rules
}
```

### Media type 媒体类型

* all 所有设备
* print 文档打印
* screen 彩色屏幕

### Media features 媒体特性

* width 渲染区宽度
* device-width 设备的宽度  少使用 因为含义很模糊 不是视口的宽度而是屏幕大小的宽度
* max-width 最大宽度
* 还有更多的属性...

### link标签引入时使用媒体查询

```<link rel = "stylesheet" media= "screen and (max-width: 800px)" href= "style.css"/>```

* 表示只有在 screen 和最大屏幕不大于 800px 的情况下才会应用这个样式表。否则的话会下载 css 文件但是不会应用。

### css 文件内使用媒体查询

```css
@media screen and (max-width:800px) and (min-width: 500px) {
    /* and是逻辑操作符，与的意思 */
    /*  not逻辑操作符，否定的意思*/

    /* ,用于将多个媒体查询合并为一个规则。是多个媒体查询语句列表的or操作符 */
    div {
        width: 200px;
        height: 100px;
        background: red;
    }
}
```

* 像这样引入的媒体查询的宽度就叫做断点
* 不要基于特定的设备来设置断点。因为断点的引入就是为了不区别设备而显示网页
* 媒体查询并不会增加选择符的特殊性，要保证媒体查询的选择符也有着正常的层叠顺序。

## 使用百分比作为单位

* 额外的计算量，需要把设计稿都计算成百分比的形式。
* 计算复杂。当单位设置为百分数时。width(相当于父元素的width) top(相当于包含块的height) border-radius(相当于自身的width)

## rem单位

* rem单位是由根元素font-size来决定的
* 把页面中所有的单位都换成rem单位。当页面的size改变时，只需要动态的修改rem的大小。即可达到响应式布局的效果。

### 动态的修改html

1. 通过js来获取页面的真实宽度，然后通过js语句来动态的改变rem的大小。缺点是css和js出现了耦合。
2. 配合着媒体查询的语句来定义rem的大小。

## 视口单位 vh，vm，vw

* vh相对于视口的高度，视口被均分成100的单位的vh
* vw相对于视口的宽度，视口被分成100单位的vw
* vmin 相对于视口的高度或者宽度中最小的那一个，其中最小的那一个被均分为100个单位的vm
* 视口的定义是浏览器内部的可视区域的大小，不包含任务栏标题栏，以及底部的工具栏的浏览器区域大小

### 使用场景

* 元素的尺寸限制，免得溢出浏览器窗口。
* 实现视口覆盖，弹出框的蒙版。
* vw, vh视区大小相关单位只适用于非定位元素的高度相关属性上！ //zxx: 高度相关属性如 – height/min-height/max-height/line-height/padding-top/padding-bottom等。因为在定位元素上可以使用%。来实现相同的效果。
* body使用100vh实现固定一屏，没有滚动条的效果。
