# 响应式布局

## 像素的概念

### 物理像素(设备像素)

* **显示器！！**上一个像素点的大小

### CSS像素(虚拟像素)

* 相对的单位 PX
* 在不放缩网页的情况下，css像素 == 设备独立像素

### 设备独立像素( 一般情况下 == CSS像素)

* 是**系统！！**中的一个点，这个点代表可以由程序使用的虚拟像素。
* 在PC端中一个设备独立像素对应着一个像素点。因此加大PC显示器的分辨率时。相当于增多设备独立像素。因此能显示的内容更多了。
* 但是在一些手机中，手机的设备独立像素是固定个数的，因此增加手机的分辨率时。设备独立像素个数不变，每个设备独立像素中的物理像素增多。能显示的内容不变，但是画面更加细腻。

### 设备像素比

* drp = 物理像素/设备独立像素
* drp = 2  用2*2个物理像素来表示一个设备独立像素
* 可以通过windows.devicePixelRatio参数来获取设备像素比的大小。

## vh，vm，vw

* vh相对于视口的高度，视口被均分成100的单位的vh
* vw相对于视口的宽度，视口被分成100单位的vw
* vm 相对于视口的高度或者宽度中最小的那一个，其中最小的那一个被均分为100个单位的vm
* 视口的定义是浏览器内部的可视区域的大小，不包含任务栏标题栏，以及底部的工具栏的浏览器区域大小

### 使用场景

* 元素的尺寸限制，免得溢出浏览器窗口。
* 实现视口覆盖，弹出框的蒙版。
* vw, vh视区大小相关单位只适用于非定位元素的高度相关属性上！ //zxx: 高度相关属性如 – height/min-height/max-height/line-height/padding-top/padding-bottom等。因为在定位元素上可以使用%。来实现相同的效果。
* body使用100vh实现固定一屏，没有滚动条的效果。

## 实现的技术

1. 流体网格
2. 流体图像
3. 媒体查询
4. flex布局
5. css的calc（）方法
6. 百分比的宽度（block的子元素随父元素调节的流体特性）
7. 和js的一些代码配合使用

## 网页的适配调整

### meta标签

```<meta name="viewport" content="width=device-width, initial-scale=1.0">```

* 做移动端网站时，将 viewport 设置了 content=”width=device-width”，设备独立像素也就等于CSS像素。
* 希望使用当前设备的理想视口作为视口宽度的基准
* 设置理想视口的缩放比例级别。
* 不要通过设置meta来禁止缩放，网页的使用性会变差。

### css的设备适配

```js
@viewport {
    width: auto;
}
```

* css也可以做到设备适配，不过一定要把这条属性放到body前的style标签中
* 因为在css加载之前必须知道视口大小。

## 媒体查询

### Media type 媒体类型

* all 所有设备
* print 文档打印
* screen 彩色屏幕

### Media features 媒体特性

* width 渲染区宽度
* device-width 设备的宽度  少使用 因为含义很模糊 不是视口的宽度而是屏幕大小的宽度
* max-width 最大宽度
* 还有更多的属性...

### link标签引入时使用媒体查询

```<link rel = "stylesheet" media= "screen and (max-width: 800px)" href= "style.css"/>```

* 表示只有在screen和最大屏幕不大于800px的情况下才会应用这个样式表。会下载css文件不会应用。

### css文件内使用媒体查询

```css
@media screen and (max-width:800px) and (min-width: 500px) {
    /* and是逻辑操作符，与的意思 */
    /* ,也是逻辑操作符，或的意思 */
    /*  not逻辑操作符，否定的意思*/
    div {
        width: 200px;
        height: 100px;
        background: red;
    }
}
```

* 像这样引入的媒体查询的宽度就叫做断点
* 不要基于特定的设备来设置断点。因为断点的引入就是为了不区别设备而显示网页
* 媒体查询并不会增加选择符的特殊性，要保证媒体查询的选择符也有着正常的层叠顺序。

## 视口

* 视口就是浏览器显示网页的矩形区域

### 默认视口

* 在没有针对移动端开发的时代，就是直接把PC的网页，缩小之后放到移动端上使用
* 模拟一个窗口的大小，这个大小就叫做默认视口。

### 理想视口

* 就是与设备自身尺寸接近的视口

### 可见视口和布局视口

* 可见视口就是显示出来的实际网页的大小。布局视口是真实的网页的大小。
* PC端的理想视口就是默认视口。但是移动端和平板中需要设置meta元素。

## 响应式设置和结构化css

### 移动优先的css

* 因为移动设备的限制和要求多(屏幕小，硬件性能差)，所以按照移动优先的开发策略。
* 同时配合渐进增强的开发策略。

## 几种响应式的设计模式

### 响应式文本列

* css3规范中定义的
* 多栏文本布局应该在网页布局中少使用

### Flex

* 推荐使用

### gird

* 还没有学

## 响应式布局之外

### 响应式背景图片

* 可以根据分辨率查询来切换图片

### 响应式的图片选择

* 使用srcset属性来规定在何时使用何种图片，避免在任何条件下都加载大图片，浪费性能。