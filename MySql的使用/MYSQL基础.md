# MYSQL

## SQL语句

* sql 语句大小写不敏感
* 表名 列名 大小写敏感
* 语句的后面需要 ; 结尾
* 关键字或者表明作为字段名称使用 `` 包裹

* sql主句

```sql
-- 从 指定表名称 中查询出 所有 的数据
select * from 表名称;

-- 从 指定表名称 中查询出 指定列 的数据
select 列名称 from 表名称;

-- 向 指定数据表 中插入数据
insert into 指定表 (列1， 列2) values (值1， 值2);

-- 当满足某个条件时，在 指定数据表中 更新数据 (=两端不准有空格)
update 指定表 set 列名1='值', 列名2='值2' where `列名3`='值3';

-- 当满足某个条件时，在 是指定数据表 删除数据
delete from 指定表名称 where 列名='值' ;
```

### where 子句 限定条件

1. and
2. or

### 模糊查询使用 like 关键字

1. % 匹配任意个任意字符
2. _ 匹配一个任意字符

### order by 子句(默认升序排序)

1. asc 关键字是指定升序排序
2. desc 关键字是指定降序排序

```sql
-- 得到的数据先按照status降序排序，在按照username升序排序
select * from user order by status DESC, username asc;
```

### 聚合函数: 将数据表中的数据看成一组进行操作

* sum('xxx') 求和
* avg('xxx') 平均值
* max('xxx') 最大值
* min('xxx') 最小值
* count(*)   查询结果的总数据条数

#### group by分组

* 使用聚合函数的时候相当于将整个数据表中的数据看成一组数据，group by 就是将整个数据表按照某个字段进行分类，分成多组数据
* group by 的约束 having: 对查询的结果进行一些约束(之前以班级为分组查出来了平均分数，现在通过 having 来限定展示平均分高于 80 分的班级)

### 其他

* as 关键字可以给列去设置别名

## 多表查询

* 所有数据都放到一张表中会导致数据表难以维护
* 并且会存储很多的冗余数据
* 使用外键将当前表的内容和其他表中的内容关联起来

### 表连接

* 直接查询两个表的话，得到的结果是笛卡尔乘积 X*Y

1. 左连接 X left join Y on
2. 右连接
3. 内连接
4. 外连接

### 表关系

* 一对一
* 一对多
* 多对多
