# git

## Git的一些特点

* 使用C语言进行的开发
* 分布式的版本控制系统

## Git的命令

### git init

* 什么是版本库呢？版本库又名仓库，英文名repository，你可以简单理解成一个目录，这个目录里面的所有文件都可以被Git管理起来，每个文件的修改、删除，Git都能跟踪，以便任何时刻都可以追踪历史，或者在将来某个时刻可以“还原”。
* 通过git init命令把这个目录变成Git可以管理的仓库
* 目录下多了一个.git的目录，这个目录是Git来跟踪管理版本库的，没事千万不要手动修改这个目录里面的文件
* 也不一定必须在空目录下创建Git仓库，选择一个已经有东西的目录也是可以的。不过，不建议你使用自己正在开发的公司项目来学习Git，否则造成的一切后果概不负责。

### git add

* 告诉Git把文件添加到仓库

### git commit -m '本次提交的说明'

* 告诉Git，把文件提交到仓库

### git log

* 命令查看在每个版本中都有哪些变动
* 那些一大串的十六进制数字是commit的版本号。

### git reflog

* 用来记录每一次的命令，其中有commit的版本号，可以用它来回到未来

### git status

* 查看一下当前的状态

### git diff HEAD -- 文件名

* 来查看工作区和版本库里面的最新版本的区别

### git checkout -- 文件夹

* 把文件在工作区中的修改全部撤销
* 让这个文件回到最近一次Git commit或者Git add的状态
* 其实是使用版本库里的版本替换工作区里面的版本。无论工作区是修改还是删除都可以一键还原。
* 从来就没有被添加到版本库中的文件时没有办法被还原的。

### git reset HEAD 文件夹

* 把暂存区的修改撤销掉
* 重新放回工作区然后在使用git checkout -- 文件夹命令

### git reset --hard  commit_id

* 是版本库的回退

### git rm 文件夹

* 是删除文件的命令

### git push

* 把本地的仓库推送到远程，其实是把当前的分支master推送到远程
* 由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。
* 现在起，只要本地作了提交，就可以通过命令  git push origin master把本地master分支的最新修改推送至GitHub，现在，你就拥有了真正的分布式版本库！

### git clone 地址

* 使用这条命令就可以把github上的远程仓库克隆到本地

### git switch -c dev

* 创建dev分支并切换到dev分支，相当于两个指令
* git branch dev是创建dev分支
* git switch dev 是切换到dev分支

### git branch

* 列出所有的分支，并且标记当前的分支

### git merge 指定分支

* 用于将指定的分支合并到当前的分支

### git branch -d 分支名

* 删除指定的分支

## 版本回退

* 每当你觉得文件修改到一定程度的时候，就可以“保存一个快照”，这个快照在Git中被称为commit。一旦你把文件改乱了，或者误删了文件，还可以从最近的一个commit恢复，然后继续工作
* HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令git reset --hard commit_id。
* git reset --hard “HEAD^”
* 当前版本是HEAD HEAD^是上一个版本 HEAD~100是一百个版本
* 版本回退的话，回退之前的那个版本会找不到。好比你从21世纪坐时光穿梭机来到了19世纪，想再回去已经回不去了。有办法使用 git reset --hard "版本号"，就可以指定回到未来的版本。

## 工作区和暂存区

* 在电脑中看到的目录就是工作区
* git文件夹中有很多东西，其中就有暂存区和分支(master)以及分支中的指针HEAD
* 使用git add就是把东西放到暂存区
* 使用git commit就是把暂存区中的文件一次性提交
* 就算是你的工作区文件修改了，但是没有添加到暂存区的话，使用git commit命令也并不会把最新的工作区改动提交到最新的版本库版本中。

## 添加远程仓库

* 如何把本地的一个仓库和github上的仓库关联起来
* git remote add origin 地址
* git push -u origin master
* 添加后，远程库的名字就是origin，这是Git默认的叫法，也可以改成别的，但是origin这个名字一看就知道是远程库。

## 从远程仓库克隆

* 如果想要从零搭建一个项目的话，最好是先在github上创建一个仓库，然后clone下来

## 分支的管理

* 一开始的时候，master分支是一条线，Git用master指向最新的提交，再用HEAD指向master，就能确定当前分支，以及当前分支的提交点


！！！ 在vscode中可以直接把没有提交到暂存区的改动撤销十分人性。