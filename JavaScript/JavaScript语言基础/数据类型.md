# javascript 中的数据类型

## 一、原始值和引用值

### 原始值

* 原始值: Number Boolean String undefined（未定义，未赋值）null（空值）Symbol
* 传递方式：`值传递`
* 在栈内存中`直接存放数据`
* 复制变量：开辟一个新的栈空间，将变量的值添加到新的栈空间中
* 修改变量：为变量开辟一个新的栈空间，并将新值添加到新的栈空间中

### 引用值

* 引用值: Arr Object Function
* 传递方式：`地址传递`
* 在栈内存中存放是`对象实际地址的引用`(引用地址指向堆), 对象本身存储在`堆`中
* 复制变量: 开辟一个新的栈空间，新的栈空间中存放的是对象在堆上的地址。

## JavaScript 的数据类型

* 六个基本数据类型：Number Boolean String undefined（未定义, 未赋值) null(占位置, 空值) Symbol
* 复杂数据类型: Object(数组，函数，对象)
* JS 是动态类型语言, JS 天生是浮点型

### undefined

* 使用 var 声明然后未初始化的变量值就是 undefined，
* undefined 的主要作用就是为了比较，引入这个值是为了正式区别空对象指针(null)和未经初始化的变量。
* 只有一种情况下变量不声明就使用不会报错，那就是使用 typeof() 时，并且返回字符串类型的 undefined。所以变量在声明之后立刻初始化, 这样在使用 typeof 返回 undefined 时, 就可以很肯定的知道是没有声明而不是没有初始化。

### null（空对象指针）

* typeof(null) 是 object 历史遗留问题
* 如果一个变量准备将来用于保存对象，那么最好将该变量初始化为 null 而不是其他数值。然后直接将该变量与 null 比较就可以知道, 变量目前有没有被赋值为一个对象
* 实际上 undefined 是派生自 null 的。所以 undefined == null

### boolean

* 转换值为 false 的数据 false "" 0 NAN undefined null

### Number

#### 浮点数

* 浮点数值的计算很不精确

```js
let a = 0.1
let b = 0.2
if(a + b == 0.3) { // 千万不要这样做，因为浮点数的计算会有误差 在 JS 中 0.1 + 0.2 不等于 0.3
  console.log('xxx')
}
```

#### 数值范围

* JS 中数值有一个最大和最小的区间。infinity 就是正无穷。
* 使用 isFinite() 函数来判断是否介于最大数值和最小数值区间内。
* 超过范围的数值将无法参加下一次计算

#### NAN

* 非数, 用于表示本来要返回数值的操作数并没有返回数值的情况(这样就不会抛出错误了)
* NAN 与任何数都不相等，包括自身
* 任何涉及到 NAN 的操作都会返回 NAN
* isNAN() 方法，用于判断数值是否为 NAN 类型，使用 isNAN() 方法时，会隐式的调用 number() 方法

#### 数值转换

* Number()
* parseInt()
* parseFloat()

### string

1. 字符串有转义字符
2. ECMAScript 中的字符串是不可变的，要想改变字符串的值就要销毁原来的字符串，然后再用另一个新的字符串填充变量。
3. toString() 方法，undefined 和 null 没有这个方法(因为他们两个没有对应的包装类)
4. String() 任何数值类型的数据都能够转化为字符串

### object

* ECMAScript中的对象就是一组数据和功能的集合，可以通过 new 操作符来创建
* Object() 类型是所有他的实例的基础
* 由于 ECMAScript 并不定义 DOM, BOM 所以他们可能不会继承自 Object()

## typeof

* 因为 ECMAScript 是松散的，所以需要一种鉴定手段来测定变量的数据类型

### typeof 返回的类型

* number string boolean object undefined function (都是返回字符串形式的结果)
* 泛泛的引用数据值(数组，对象，null)都会被称为 object。使用 instanceof 来判断对象属于哪种具体对象
* 函数在 ECMAScript 中是对象，而不是一种数据类型，但是函数确实拥有一些特殊的属性，因此使用 typeof 来区分函数和其他对象也是非常有必要的。

## 执行代码时遇到错误

1. (低级错误)语法错误代码一行也不会执行
2. 逻辑错误(标准错误)后续代码不会执行

* 无论哪种错误都不会影响到其他代码块的执行
