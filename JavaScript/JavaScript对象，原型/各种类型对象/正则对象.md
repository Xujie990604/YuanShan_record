# 正则类型对象

## 一、转义符号

* 一些特殊的字符想要输出的话，需要使用\转义符号来输出
* \n换行
* \r是行结束
* \t是一个制表符
  
* 会把\符号后面的所有空格转化为一个制表符

```js
let a = "\
    <div></div>\
    <span></span>\
";

输出：    <div></div>    <span></span>
```

## 二、正则表达式 /RegExp/

* var a = /abc/;的方式来创建
* var a = new RegExp("/abc/");
* 正则表达式中的空格是有意义的
* 贪婪匹配原则，尽量能匹配多就不匹配少

### 2.1 正则表达式的修饰符

* i 忽视大小写 reg = /abc/i
* g 全局匹配 使用str.match(reg)的话，如果使用了g属性，会返回所有匹配的片段。reg = /abc/g
* m 多行匹配  var reg = /^a/gm; var str = "abddd\na" 会匹配两个a，因为开启了全局匹配和换行匹配 字符串中有换行符号 所以会匹配两个a

### 2.2 方法

* reg.test(str) 是判断字符串中是否匹配正则表达式 返回Boolean
* reg.exec(str) 使用的时候可以和reg的lastIndex属性和reg的g(全局搜索属性)相结合。exec方法每次执行都会更新lastIndex属性值
* str.match(reg)会返回字符串中匹配正则的字段，可以有多个。
* str.replace(reg,'want')使用字符串的这个方法可以用来替换字符。

```js
    let a = reg = /-(\w)/g;
    let b = 'the-first-name';
    // 使用str的replace方法的时候可以自定义想要替换的内容，而不是非要固定的字符串。需要在函数中传入参数。$代表正则匹配的全局，$1代表正则表达式中的第一个子表达式(\w)
    b.replace(a,function($,$1) {
        return $1.toUpperCase();
    }); //theFirstName
```

### 2.3 表达式 [] ()

* reg = /[1234567890][1234567890][1234567890]/; 匹配字符串中有没有三个连着的数字
* [0-9][A-Z][a-z][A-z] 这个是匹配区间
* [^a]的意思是非a,^符号写在表达式外面是以什么为开头，写在表达式里面是非的意思
* (jpg|png) ()中的不是范围而是固定的搭配 | 是或者的意思

### 2.4 元字符

* \w === [0-9A-z_]
* \W === [^\w]
* \d === [0-9]
* \D === [^\d]
* \s === [\n\f\r\t\v'这里还有一个空格'] \n换行符 \f换页符 \r回车符 \t制表符 \v垂直制表符。并不是说在字符串中有一个手打的制表符就会匹配，而是会匹配字符串中的\n转义字符
* \S === [^\s]
* \b === 单词边界 var str = "|abc| |def|"; |的位置表示单词边界,单词边界不是一个空格，是代表的位置。
* . === [^\r\n] 除了回车符和换行符都能匹配
* 正则表达式中可以使用unicode编码。
* [\w\W]代表的是匹配所有

* 正向预查和正向断言(不参与选择，只参与修饰)

```js
    let a = reg = /a(?=b)/g; //选择那些在a的后面有b的
    let b = 'abaaaa';
    b.match(a) //['a']   只有一个

    let a = reg = /a(?！b)/g; //选择那些在a的后面没有b的
    let b = 'abaaaa';
    b.match(a) //['a','a','a','a']   有四个
```

### 2.5 量词 用来修饰元字符或者表达式

* `+` 是可以出现一次到无数次
* `*` 是可以出现0次到无数次
* `?` 是可以出现零到一次
* `{X}` 是可以出现x次
* `{X,Y}` 是可以出现X到Y次
* `{X,}` 是可以出现X到无数次
* 在量词的后面加上一个`?`代表的是非贪婪匹配，能取少的就不取多的 `{2,3}?`的意思就是能取两个就不取三个

### 2.6 子表达式 ()

* 如果想要匹配aabb的格式，需要使用到子表达式()和\1
* reg = /(\w)\1\1\1/ 就是匹配字母的aaaa形式
* reg = /(\w)\1(\w)\2/ 就是匹配字母的aabb的形式
* 使用exec的方法来进行匹配检测的话。输出的数组中会有同子表达式匹配的数据

```js
    let a = reg = /(\w)\1(\w)\2/g;
    let b = 'aabb';
    console.log(b.match(a)); //["aabb"]
    console.log(a.exec(b));  //index.html:25 (3) ["aabb", "a", "b", index: 0, input: "aabb", groups: undefined]
```

### 2.7 开头符和结尾符

* ^n 以什么为开头
* n$ 以什么为结尾

## 三、典例

```js
let reg  = /(\w)\1*/g;
let str = 'aaaaaaaaaabbbbbbbbbbbbbbbbbccc';
console.log(str.replace(reg,"$1")); //abc 会把所有字母出现了两个及其以上的替换为一个与之匹配的子表达式
```
