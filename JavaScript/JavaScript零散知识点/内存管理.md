# 内存管理

## 内存管理的过程

1. 分配你所需要的内存
2. 使用分配到的内存（读、写）
3. 不需要时将其释放\归还

在 C 等底层语言中，1，2，3都是明确的
在 JavaScript 等高级语言中，只有 2 是明确的。 1 (在声明变量时系统自动分配内存) 3 (系统使用垃圾回收算法来清除)

## 　垃圾清除算法

### 引用计数垃圾回收

* 初级的垃圾收集算法。此算法把 "对象是否不再需要" 简化定义为 "对象有没有其他对象引用到它" 。如果没有引用指向该对象（零引用），对象将被垃圾回收机制回收
* 缺点就是无法解决循环引用问题

### 标记清除算法

* 这个算法把 "对象是否不再需要" 简化定义为 "对象是否可以获得" 。这个算法假定设置一个叫做根(root)的对象(在 Javascript 里，根是全局对象)。垃圾回收器将定期从根开始，找所有从根开始引用的对象，然后找这些对象引用的对象……从根开始，垃圾回收器将找到所有可以获得的对象和收集所有不能获得的对象
* 缺点是那些无法从根对象查询到的对象都将被清除，但是场景很少
