# 计算机网络的终极大题

## 检查缓存

* 先检查缓存，如果强缓存成功，浏览器不会发出网络请求直接使用本地缓存的内容。如果强缓存失败检查协商缓存。服务器返回304代表着协商缓存生效，服务器返回200代表着协商缓存失败。

### 缓存的方式

* 强制缓存(由本地的缓存结果决定是否生效)和协商缓存(由服务器决定是否生效)两种缓存方式

### 缓存的途径

* 内存缓存(是浏览器的行为，除了no-store字段外不会受到HTTP协议的约束)和硬盘缓存(严格按照HTTP头部中的信息来缓存资源)两种缓存途径

## DNS解析

* 通过域名得到IP地址，DNS协议运行在UDP协议之上

* 先搜索浏览器本身的DNS缓存，如果没有的话，本地DNS服务器发起迭代的DNS解析请求。最终本地服务器得到外部服务器返回的域名的对应IP地址。获取到IP地址之后，可以准备向这个IP地址发送请求。

* HTTP报文封装成 TCP数据报封装成 IP数据报封装成 帧然后通过以太网进行转发

## TCP连接

### 三次握手建立连接

* 客户端主动打开，服务器端被动打开。
* TCP建立连接成功之后，客户端开始向服务器端发送HTTP请求

### 四次挥手断开连接

* 服务器响应完客户端的请求之后，解除TCP连接。
* 客户端主动关闭，服务器端被动关闭。

## 发送HTTP请求并且获得HTTP响应

* HTTP连接是基于TCP连接
* https 协议就是http +ssl协议

## 浏览器渲染解析页面