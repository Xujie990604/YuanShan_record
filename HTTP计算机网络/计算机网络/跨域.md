# 前端的跨域

## 什么是跨域

* 跨域是指一个域下的文档或脚本试图去请求另一个域下的资源
* 所谓同源是指"协议+域名+端口"三者相同，即便两个不同的域名指向同一个ip地址，也非同源。
* 跨域是浏览器的自我保护机制， 防止其他服务器冒充真实的服务器来获取用户输入的信息。

### 以下的东西都会涉及资源的请求

1. 资源跳转： A链接、重定向、表单提交
2. 资源嵌入： ```<link>、<script>、<img>、<frame>```等dom标签，还有样式中background:url()、@font-face()等文件外链
3. 脚本请求： js发起的ajax请求、dom和js对象的跨域操作等

* `<script><img><iframe><link><video><audio>`等带有src属性的标签可以从不同的域加载和执行资源

### 同源策略

* 是浏览器同源策略限制的一类请求场景
* 同源策略/SOP（Same origin policy）是一种约定，由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到XSS、CSFR等攻击。
* 同源策略的非绝对性：`<script><img><iframe><link><video><audio>`等带有src属性的标签可以从不同的域加载和执行资源。

## 跨域的解决方案

### vue中

* 可以在vue.config.js文件中配置devServer.proxy进行代理

### CORS策略(跨域资源共享)

* 需要后端进行配置
* 如果想要http请求带cookie的话，需要前端进行一下配置

### nginx转发

* 在nginx中进行配置，把本地的请求进行代理的转发
