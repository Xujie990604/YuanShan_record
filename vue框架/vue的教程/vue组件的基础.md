# Vue组件的基础

## 组件的构建

* 使用Vue.extend()创建组件构造器 Vue2.x之后就很少显示的使用这个了，被合并到vue.component()这个过程中了
* 使用vue.component()来注册全局组件(全局组件可以在多个Vue实例中使用)。如果是在某个Vue实例的component属性中进行注册的那么就是局部组件。

## 组价和根实例的区别是实例拥有el选项

* new Vue创建的是Vue的根实例
* Vue.component注册的是全局组件
* 定义组件时，需要在父组件里面使用到的子组件要在父组件之前定义

### 全局注册(router-link组件就是router自动注册的全局组件，我们不需要在当前组件中import就可以使用)

* 全局注册的组件可以用在其被注册之后的任何 (通过 new Vue) 新创建的 Vue 根实例，也包括其组件树中的所有子组件的模板中。
* 子组件之间也可以互相引用
* 可以直接把内容写在下文的组件内容部分，也可以使用模板分离的方式，使用template标签。

```javascript
Vue.component('my-component-name', { /* 组件内容 */ })
```

### 局部注册（我们自己使用组件时一般都是局部注册的组件）

* 像定义一个普通的js对象来定义组件
* 避免性能的浪费
* 局部注册需要在父组件中进行注册

```javascript
var ComponentA = { /* 组件内容 */ }
```

## 组件的data必须是一个函数

* 每使用一个组件，就会有一个新的实例被创建,因此每个实例都可以维护一份被返回对象独立的拷贝
* 否则就会影响到其他的复用组件的实例

## 插槽

* 为了让组件更加的具有扩展性。
* 普通插槽如果想要使用变量的话，只能使用父级模板里面的内容。不能使用子模板里面的内容
* 后备内容：直接在子组件的插槽(slot)标签里面放置内容。如果父级没有传内容过来，默认显示，如果父级有东西传入，显示父级传入的内容。

### 具名插槽

* 在子组件的slot标签上添加name特性
* 在父组件调用子组价时的标签上添加slot特性。

### 插槽的替换

* 插槽的具体作用就是替换，直接使用组件内的内容替换定义的插槽的标签，所以就导致一些问题，不要再slot插槽标签上使用一些语句(v-if :class={...})，尽量在slot外面添加一层div用于处理业务逻辑。

### 作用域插槽

* 在父组件的作用域内获取子组件的变量的值，用来插槽中。

```html
// 子组件中定义插槽(插槽中有默认内容)(插槽中还有用于辨识的name属性)，并且传递数据给父组件
<slot :data="name" name="app-m">子组件默认内容</slot>
<!-- 父组件中引入子组件，并且使用template中的slot-scope属性来得到子组件传过来的数据 -->
<app-model>
    <template slot-scope="slot" slot="app-m">
        <span>{{slot.data}}</span>
    </template>
</app-model>
```