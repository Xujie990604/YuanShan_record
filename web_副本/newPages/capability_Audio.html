<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
		<title></title>
		<link href="../css/mui.css" rel="stylesheet" />
		<link href="../css/iconfont.css" rel="stylesheet" />
		<link href="../css/Common.css" rel="stylesheet" />
		<link href="../css/theme_normal.css" rel="stylesheet" />
		<style>

		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a id="back" class="mui-icon iconfont icon-back1"></a>
			<h1 id="title" class="mui-title" data-text="WEB_audio_set">&nbsp;</h1>
		</header>
		<div class="mui-content">
			<ul class="mui-table-view mui-hidden" id="baseUl">
				<!--音量控制-->
				<li class="mui-table-view-cell mui-hidden" id="settings_Audio">
					<a class="mui-navigate-right" data-text="WEB_volumeControl">&nbsp;</a>
				</li>
			</ul>
		</div>

		<script src="../js/dsbridge.min.js"></script>
		<script src="../js/common.js"></script>
		<script src="../js/libs/md5.js"></script>
		<script src="../js/libs/jquery-3.4.1.min.js"></script>
		<script src="../js/libs/sha2.js"></script>
		<script src="../js/resource.js"></script>
		<script src="../js/Utils.js"></script>
		<script src="../js/mui.js"></script>
		<script src="../js/immersed.js"></script>
		<script src="../js/customSetting.js"></script>
		<script src="../js/loadCss.js "></script>
    <script id="langScript"></script>
		<script>
			var isShowNoFunction; //无功能占位图
			var isSupportAudioConfig = false; // 是否支持音频配置
			checkType(localStorage.AppType); //加载特定样式
			mui.init();
			var typeLan = initLang();
			langTip = typeLan.lang;
			initData();
			initEvent();

			function initData() {
				isShowNoFunction = true;
				SendAjax(LAPI.AudioCapabilities, "get", function(code, data) {
					dsBridgeFuncSyn.dismiss();
					if(code == 0) {
						/******音频输入******/
						if(0 < data.AudioInNum || 0 < data.SerialInNum) {
							isSupportAudioConfig = true;
						}
						/******音频输出+报警输出******/
						if(1 == data.SupportAudioOutGain) { // 支持音频输出音量控制
							if(1 == data.SupportAlarmAudioOutGain) { // 支持报警音量控制
								isSupportAlarmOutput = true;
							} else {
								isSupportAlarmOutput = false;
							}
							isSupportAudioConfig = true;
						}
						//支持音频
						if(isSupportAudioConfig) {
							isShowNoFunction = false;
							$("#settings_Audio").removeClass("mui-hidden");
						}

						if(isShowNoFunction) {
							//TODO:无功能占位图
							addBitmap(1, langTip["WEB_noConfigAvailable"]);
						} else {
							$("#baseUl").removeClass("mui-hidden");
						}

					} else if(code == 4 || code == 8 || code == 1006) {
						addBitmap(1, langTip["WEB_unSupported"]);
					} else {
						//TODO:加载失败显示加载失败占位图
						addBitmap(0);
						showToast(langTip["WEB_loadFailed"] + "(" + code + ")", code);
					}

				})
			}

			function initEvent() {
				document.getElementById("settings_Audio").addEventListener('tap', function() {
					jumpToWebPage("settings_Audio");
				});
			}
		</script>
	</body>

</html>