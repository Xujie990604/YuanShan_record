# Vue 中事件的监听

## 直接在 DOM 中监听事件

- 无需再 js 中手动绑定事件，代码可以是纯粹的逻辑，和 DOM 解耦
- 当一个视图模型被销毁时，所有的事件处理器都会被自动删除。

## 参数问题

- 如果是不需要参数的方法，那么加不加括号都可以。(不加小括号的方式是简写)

- 绑定事件时不加上小括号(`方法事件处理器`)

1. 事件函数没有定义形参，在函数体内直接使用 event 就能访问到 event 事件对象
2. 事件函数只定义了一个形参，在函数体中使用这个形参就是 event 事件对象

- 绑定时要是加上了小括号(如果不是需要手动传入参数的话，不使用加小括号这种方式)(`内联事件处理器`)

1. 在事件函数的实参中，使用$event 显式的声明
2. 在事件函数中没有用$event 显式的定义实参，则不需要在事件函数中定义形参，直接在函数体中使用 event 来访问事件对象。

- 如果即需要普通的参数又需要 event 事件对象的话，就需要在实参处使用 $event 来明确事件对象。
- Vue 的事件绑定和 JS 原生的事件绑定不太一样。JS 原生事件绑定只能由系统主动传递一个参数就是 event 事件对象，所以在事件函数中使用 arguments[0] 一定就是 event 事件对象。但是在 Vue 的事件绑定中可以由开发者主动传递数据，所以事件函数中的 arguments[0] 不一定是 event 事件对象。

```html
<!-- 这个$event就是明确告诉Vue，我定义的是事件对象 -->
<div class="header" @click="btnClick(123, $event)">ViewFirst组件</div>
```

## 修饰符

- 代码会按照修饰符的顺序进行执行

### 定义在事件上

- .stop 阻止单件事件的继续传播(相当于原生中的阻止事件冒泡)
- .prevent 阻止默认事件
- .once 只触发一次
- .self 只当事件是从事件绑定的元素本身触发时才触发回调

### 定义在 v-model 指令上

- .lazy 加入 lazy 修饰符之后，会在 change 事件之后同步，而不是在 input 事件之后同步
- .number 自动将用户输入的值转为数值类型。就算是 type="number" html 返回的值也会带有字符串。
- .trim 会自动过滤用户的两端空白字符

## 按键修饰符

- 分为键盘按键修饰符和鼠标按键修饰符
- 只有在满足修饰符的条件下才会触发事件
- 键盘按键修饰符 .enter .tab .esc
- 鼠标按键修饰符 .left .middle .right

## .native 修饰符

- 组件不能和 DOM 一样直接的添加原生的事件。要加上.native 修饰符
- 用来监听组件根元素的原生事件
