# 在 HTML 中使用 javascript

## `<script>`元素

### src 属性

1. 有 src 属性时，`<script>` 标签内的代码会被忽略。
2. src 也可连接网络上的 JS 文件(jq)

### 普通标签

* 浏览器在 `解析` 文档时遇到 `<script>` 标签, 会立刻开始下载 JS 文件，并且 JS 文件下载完成后会立刻执行(下载和执行 JS 文件都会阻塞后续 DOM 结点的解析)
* 现代浏览器是比较智能的，虽然`理论上`下载和执行`都会阻塞`后续结点的解析，但是浏览器会偷偷瞄一眼后面的 `script` `link` `img` 等类型的标签，会提前下载资源，不会傻傻的等非得解析到这些标签才去下载
* `<script>` 本质上也是一个 DOM 结点。浏览器从上至下解析文档。`<script>` 放在 body 前面就会在页面显示之前下载和执行 JS 文件。(十分不推荐，浏览器窗口显示空白的时间会变长)，一般建议放在 body 标签内部的最后面，这样就会在页面内容都呈现完毕之后再 `下载` 和 `执行` JS 文件

### defer 延迟脚本

* 浏览器在 `解析` 文档时遇到带有 defer 属性的 `<script>` 标签，会开启新线程 `立即下载` 脚本文件，但是在 `文档解析` 完成之后才 `执行脚本文件`
* 使用这个属性的目的是: 表明脚本在`下载时不会影响页面的解析`，脚本会被延迟到`整个页面都解析完毕之后`在运行。(`页面解析`完毕不是`页面加载`完毕，页面解析完毕不包括 img 图片的加载，页面加载完毕在 img 等下载完之后
* 多个设置了 defer 属性的脚本会 `按照书写的先后顺序执行`

### async 异步脚本

* 浏览器在 `解析` 文档时遇到带有 async 属性的 `<script>` 标签。会开启新线程 `立即下载` 脚本文件，下载完毕之后立刻执行。
* 使用这个属性的目的是: 表明脚本在`下载时不会影响页面的解析`。脚本会在下载完之后立刻执行。(因此建议在异步的脚本加载期间不要修改DOM,因为不确定涉及的 DOM 有没有被解析到)
* 多个设置了 async 属性的脚本 `并不会按照书写的先后顺序执行`，因此保证多个异步脚本之间互不依赖很重要。

### 动态引入的标签

* 将 async 设置为 false 之后，为什么 动态引入的 JS 文件执行时间会那么晚是因为 defer 的效果。还是说 mui 的下载太慢了(下载慢也就是意味着执行时间晚)，影响了后面 JS 文件的执行。这个 mui 是否可以使用动态引入的方式来优化一下

## ```<noscript>```

* 标签里面的内容只有特定情况下才会显示

1. 浏览器不支持脚本
2. 浏览器支持脚本，但是脚本被禁用
