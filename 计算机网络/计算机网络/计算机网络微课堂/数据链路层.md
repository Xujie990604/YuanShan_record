# 数据链路层

* 链路 就是从一个结点到相邻结点的一段物理线路，中间没有任何交换结点(没有路由器)
* 数据链路 是指把实现通信协议的硬件和软件加到链路上，构成了数据链路
* 数据链路层是以 **帧** 为单位处理和传输数据

## 封装成帧

* 数据链路层将从网络层来的协议数据单元添加帧头帧尾的过程叫封装成帧
* 帧头和帧尾中含有重要的控制信息
* 帧头和帧尾的作用之一是**帧定界**

* 透明传输  指的是数据链路层对于上层交付的传输数据没有任何限制
* 如何恰好数据中含有帧中的定界符的话，需要把数据中和定界符相同的字节加上转义符号。(这一步检查发生在数据链路层中)
* 为了提高帧的传输效率，帧的数据部分应当尽可能大一点，但是每一层数据链路层又规定了帧中数据部分的长度上限。

## 差错检测

* 接收方根据帧尾中的检测码来检查是否传送过程中出现了误码
* 奇偶校验法(误差较大)  循环冗余校验CRC检测法(误差率较低)

## 可靠传输

* 接收方不会接收有误码的数据帧

### 数据链路层向上层提供的服务类型

* 不可靠传输服务 仅仅丢弃有误码的帧
* 可靠传输服务 想办法实现发送端发送什么，接收端就收到什么。

### 传输错误类型

* 比特差错
* 分组丢失
* 分组失序
* 分组重复

### 可靠传输服务

* 可靠传输服务的实现不仅仅局限于数据链路层，可以应用到计算机网络体系结构的各层协议中。

* 停止等待协议(发送方每发送一个分组，就要等到接收方发送确认接收分组)  缺点是信道利用率十分底下
* 回退N帧协议(发送方可以一次性的发送多个分组(窗口大于1)，接收方按序接收分组(接收方窗口等于1)，当发现误码时，丢弃差错误码后的所有分组，并发送接受错误的信息，要求发送方重传N个分组)(当通信线路质量不好时，效率低下)
* 选择重传协议 在回退N帧协议的基础上接收方的窗口不在等于一，而是和发送方的窗口大小相同。这种实现只需要重传出现误码的分组。而不需要重传N个分组。

## 点对点协议PPP

* 定义封装成帧的封装方法 链路控制协议 网络控制协议
