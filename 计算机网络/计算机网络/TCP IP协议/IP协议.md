# IP协议

## 特点

* 无状态

所有IP数据报的发送，传输都是相对独立的，没有上下文的关系。

* 无连接

通信双方都不会长久的保留对方的任何信息，每个数据报都是独立的进行路由选择，可能选择不同的路线。
每次发送IP数据的时候都要明确指出对方的ip地址。

* 不可靠

不保证IP数据报能够准确到达接收端

## 路由选择

### 路由匹配

1. 直接匹配，查找路由表中是否由与目标IP地址完全匹配的主机IP地址，找到则匹配成功，没有的话转2；
2. 查找是否有与目标IP地址具有相同网络ID的IP地址，找到则匹配成功，没有的话转3；
3. 查看是否有默认网关，有则转发给它，没有的话，路由查找失败，由ICMP返回错误信息。