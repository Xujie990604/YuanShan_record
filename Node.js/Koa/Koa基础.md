# Koa框架

* Koa 具有更好的异步支持, 可以在 next() 前面加上 await, 这样在多个中间件的时候能更好的使用异步代码(本质是因为 koa 中间件中的 next() 函数的返回值是 Promise)(express 中间件 next() 函数的返回值不是 Promise 所以在 express 中无法实现这种效果)
* Koa 的代码只有 1600+，是一个轻量级的框架

## 和 express 对比

* 匹配不到路由的话不会报错，而是返回 Not Found
* 本身不支持 Router 需要引入第三方插件
* 中间件函数的参数只有两个
* Koa 是一个类， express 是一个函数
* Koa 洋葱模型: 中间件1 -> next() -> 中间件2 -> next() -> 中间件3 -> 中间件2 -> 中间件1 (中间件的执行顺序，先从表层进入到内层，到达最内层之后又会重新返回表层)(koa 无论在同步异步都是洋葱模型)(express 只有在书写同步代码时才遵循洋葱模型)
